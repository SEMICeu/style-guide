<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data shape conventions :: SEMIC</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../_/css/site.css">
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="..">
            </a>
        </div>
    </nav>
<nav class="navbar">
    <div class="navbar-brand">
    <img src="../_/img/semic-logo.png" class="logo" />
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs" >
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="public-review">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">SEMIC Style guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="terminological-clarifications.html">Terminological clarifications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="arhitectural-clarifications.html">Architectural clarifications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="clarification-on-reuse.html">Clarifications on "reuse"</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="guidelines-and-conventions.html">Guidelines and conventions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gc-general-conventions.html">General conventions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gc-conceptual-model-conventions.html">Conceptual model conventions (UML)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gc-semantic-conventions.html">Semantic conventions</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="gc-data-shape-conventions.html">Data shape conventions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gc-methodology-conventions.html">Methodology conventions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gc-publication-conventions.html">Publication conventions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Back matter</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="references.html">References</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rule-template.html">Rule template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index-of-rules.html">Index of rules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="style-guide-whole.html">Style guide as a whole</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SEMIC Style guide</span>
    <span class="version">public-review</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">SEMIC Style guide</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">public-review</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">SEMIC Style guide</a></li>
    <li><a href="guidelines-and-conventions.html">Guidelines and conventions</a></li>
    <li><a href="gc-data-shape-conventions.html">Data shape conventions</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/SEMICeu/style-guide/edit/main/docs/modules/ROOT/pages/gc-data-shape-conventions.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Data shape conventions</h1>
<div class="sect1">
<h2 id="sec:dsc-r1"><a class="anchor" href="#sec:dsc-r1"></a>Data shape language choice</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"><strong>Title:</strong> Data shape language choice</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> DSC-R1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">The data shapes shall be expressed in SHACL.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>There are various languages allowing for data shape expression and thus define validation rules for RDF data. Among the executable ones, the most well-known are SHACL [<a href="references.html#ref:shacl" class="xref page">shacl</a>] and ShEx [<a href="references.html#ref:shex" class="xref page">shex</a>].
We are aware that a strong community of practice exists for ShEx. However, as SHACL is a W3C standard, we strongly recommend using it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r2"><a class="anchor" href="#sec:dsc-r2"></a>Loose versus rigid constraints</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Loose versus rigid constraints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> DSC-R2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">In a Core Vocabulary, then the data shape constraints shall be as loose as possible, i.e., permissive, while in an Application Profile, the data shape constraints shall be as rigid as necessary, i.e. restrictive.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>The Core Vocabularies are intended for a broad reuse and are concerned with establishing the concepts. This is addressed by the ontology artefact. Optionally it may be accompanied by a minimal set of data shape constraints expressing general domain limitations. For example, it may be already defined in the Core Vocabulary that a class cannot be instantiated without certain mandatory properties or that a declared property shall be used only with values from a pre-established controlled vocabulary.
If a data shape artefact is provided, then any Application Profile reusing the Core Vocabulary shall not only import the ontology, but the data shapes as well.</p>
</div>
<div class="paragraph">
<p>The Application Profiles are usually intended for narrower use cases and mostly are concerned with setting restrictions on the way reused vocabulary ought to be used. It is a good practice to make such restrictions as restrictive as necessary but still provide space for variation as it typically occurs in practice. This is even more important when an Application Profile is conceived as reusable in other Application Profiles.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><strong>Examples:</strong></p>
</div>
<div class="paragraph">
<p>Consider DCAT-AP, for example. It is an Application Profile on top of the DCAT vocabulary, but other more specific Application Profiles are still created on top of it (e.g., DCAT-AP CH, DCAT-AP DE, DCAT-AP NO, etc.)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r3"><a class="anchor" href="#sec:dsc-r3"></a>Open and Closed world assumptions</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Open and Closed world assumptions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> DSC-R3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">The data instantiating a core model may be fragmented across information systems. For representation purposes, open-world
assumptions shall be adopted, and for validation purposes, a closed-world assumption shall be adopted.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>Operations on the data, such as automated reasoning and validation, are impacted by  what is assumed about its completeness.
If it is considered complete, then we say that we operate under the <em>closed-world assumption</em>; otherwise, in the cases of
continually evolving and distributed data (that is more in line with reality), the data is considered possibly incomplete,
and we say that operating is under the <em>open-world assumption</em>.</p>
</div>
<div class="paragraph">
<p>Under the closed-world assumption, it is presumed that a true statement is also known to be true. Therefore, conversely, what is not currently known to be true, is false [<a href="references.html#ref:reiter81" class="xref page">reiter81</a>]. The opposite of the closed-world assumption is the open-world assumption stating that lack of knowledge does not imply falsity. The truth value of a statement may be true despite whether or not it is known to be true.</p>
</div>
<div class="paragraph">
<p>This means that when validating, the data must be considered complete to assess whether it fulfils the imposed constraints or recommended shapes. Therefore, everything that is not known to be true must be considered false.</p>
</div>
<div class="paragraph">
<p>This may have an impact, especially for larger vocabularies (such as the eProcurement ontology), on how the data shapes are organised. As data shapes may be used to suggest how the data may be fragmented and how it shall not.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r4"><a class="anchor" href="#sec:dsc-r4"></a>Shape definitions</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Shape definitions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> DSC-R4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">Each ontology class shall be mirrored by a <code>sh:NodeShape</code>, while the property constraints shall be embedded (contextualised) within node shapes rather than being defined as freestanding.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>When generating SHACL shapes, it is a good practice to create a node shape for each UML class and, within it a property shape for each UML attribute and UML Connector of that class. If the property shapes are defined within the node shapes (rather than freestanding), then we mirror the structure depicted in the UML diagrams. Doing so is intuitive for the readers,
the resulting constraint definitions are organically integrated, and the maintenance costs are decreased.</p>
</div>
<div class="paragraph">
<p>The shapes shall be created in a separate namespace in order to allow dereferencing to either OWL 2 or SHACL definitions.</p>
</div>
<div class="paragraph">
<p>In some communities, the URIs used in the OWL 2 specifications are reused in SHACL. The class definitions are extended as node shapes. In SHACL semantics, this is interpreted as an equivalent to specifying a sh:targetNode class. This approach allows the use of a single reference in both the ontology and data shape definition yet specifies separate concerns in separate artefacts. The advantage of the approach is increased consistency and readability while maintenance costs decrease. Yet, this approach does not allow for dereferencing separately OWL 2 or SHACL representations. Hence, it is recommended to avoid such practice.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r5"><a class="anchor" href="#sec:dsc-r5"></a>Data shape severity</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Data shape severity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> DSC-R5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">It is recommended to use constraint severity for distinguishing critical violations from non-critical recommendation warnings and from nice-to-have information.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>Data shapes can be assigned a level of severity. The specific values of severity have no impact on the validation but may be used by user interface tools to categorise validation results. The severity levels are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Info - A non-critical constraint violation indicating an informative message.</p>
</li>
<li>
<p>Warning - A non-critical constraint violation indicating a warning.</p>
</li>
<li>
<p>Violation - A constraint violation.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <p style="text-align:center">This document is created by the European Commission and is licensed under the terms of
        EUPL-1.2 license</a>.
        <br/>This page was built using the Antora default UI. The source code for this UI is licensed under the terms of
        the MPL-2.0 license.
    </p>

        <script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="150" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="150" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
  </body>
</html>
